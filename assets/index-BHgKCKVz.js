const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-awZOLQ8h.js","assets/vendor-Bz8EPWj3.js","assets/History--PsFJEwO.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,r,s)=>((t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s)(t,"symbol"!=typeof r?r+"":r,s);import{d as r,r as s,o as n,a as o,b as a,c as i,e as l,f as c,g as u,h as d,w as m,i as p,n as h,t as f,j as y,k as g,l as x,m as v}from"./vendor-Bz8EPWj3.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const w={},b=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),n=(null==r?void 0:r.nonce)||(null==r?void 0:r.getAttribute("nonce"));s=e(t.map(e=>{if((e=function(e){return"/malmodelscan/"+e}(e))in w)return;w[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,n&&s.setAttribute("nonce",n),document.head.appendChild(s),t?new Promise((t,r)=>{s.addEventListener("load",t),s.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then(t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)})},E={apiBaseUrl:"https://malmodelscan.onrender.com",appTitle:"MalModelScan - AI模型安全检查工具",appVersion:"1.0.0",appDescription:"专业的机器学习模型安全扫描工具",appAuthor:"MalModelScan Team",isDevelopment:"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname};class k extends Error{constructor(e,t,r){super(t),this.status=e,this.url=r,this.name="ApiError"}}class A extends Error{constructor(e,t){super(e),this.url=t,this.name="NetworkError"}}const S=new class{constructor(){t(this,"baseURL"),t(this,"timeout"),this.baseURL=E.apiBaseUrl,this.timeout=3e4}async request(e,t={}){const r=`${this.baseURL}${e}`,s=new AbortController,n=setTimeout(()=>s.abort(),this.timeout);try{const e=await fetch(r,{...t,signal:s.signal,headers:{"Content-Type":"application/json",...t.headers}});if(clearTimeout(n),!e.ok)throw new k(e.status,e.statusText,r);return await e.json()}catch(o){if(clearTimeout(n),"AbortError"===o.name)throw new k(408,"Request timeout",r);if(o instanceof TypeError)throw new A("无法连接到后端服务，请检查网络连接",r);throw o}}async healthCheck(){return this.request("/health")}async uploadModel(e){const t=new FormData;return t.append("file",e),this.request("/api/upload",{method:"POST",body:t,headers:{}})}async getScanStatus(e){return this.request(`/api/scan/status/${e}`)}async getScanResult(e){return this.request(`/api/scan/result/${e}`)}async getScanHistory(){return this.request("/api/scans/history")}async clearScanHistory(){return this.request("/api/scans/history",{method:"DELETE"})}async getActiveScans(){return this.request("/api/scans/active")}},T={class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100"},P={class:"bg-white shadow-sm border-b border-gray-200"},_={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},j={class:"flex justify-between items-center py-6"},q={class:"flex items-center space-x-6"},L={class:"flex items-center space-x-2"},M=r({__name:"App",setup(e){const t=s(!0);let r=null;const y=async()=>{try{const e=await(async()=>{try{return await S.healthCheck(),{isConnected:!0}}catch(e){let t="未知错误";return e instanceof A?t=e.message:e instanceof k&&(t=`API 服务错误 (${e.status}): ${e.message}`),{isConnected:!1,error:t}}})();t.value=e.isConnected}catch(e){console.warn("Health check failed:",e),t.value=!1}};return n(()=>{y(),r=window.setInterval(y,3e4)}),o(()=>{r&&(clearInterval(r),r=null)}),(e,r)=>{const s=a("router-link"),n=a("router-view");return l(),i("div",T,[c("header",P,[c("div",_,[c("div",j,[r[2]||(r[2]=u('<div class="flex items-center space-x-3"><div class="w-10 h-10 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center"><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg></div><h1 class="text-2xl font-bold text-gray-900">MalModelScan</h1></div>',1)),c("nav",q,[d(s,{to:"/",class:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium transition-colors","active-class":"bg-blue-100 text-blue-700"},{default:m(()=>[...r[0]||(r[0]=[p(" 模型扫描 ",-1)])]),_:1}),d(s,{to:"/history",class:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium transition-colors","active-class":"bg-blue-100 text-blue-700"},{default:m(()=>[...r[1]||(r[1]=[p(" 扫描历史 ",-1)])]),_:1}),c("div",L,[c("span",{class:h(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",t.value?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},[c("span",{class:h(["w-1.5 h-1.5 rounded-full mr-1.5",t.value?"bg-green-400":"bg-red-400"])},null,2),p(" "+f(t.value?"在线":"离线"),1)],2)])])])])]),c("main",null,[d(n)]),r[3]||(r[3]=c("footer",{class:"bg-white border-t border-gray-200 mt-auto"},[c("div",{class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},[c("div",{class:"text-center text-gray-500 text-sm"},[c("p",null,"© 2024 MalModelScan. 专业的AI模型安全检查工具"),c("p",{class:"mt-2"},"支持 TensorFlow、PyTorch 等主流模型格式")])])],-1))])}}}),C=[{path:"/",component:()=>b(()=>import("./Home-awZOLQ8h.js"),__vite__mapDeps([0,1]))},{path:"/history",component:()=>b(()=>import("./History--PsFJEwO.js"),__vite__mapDeps([2,1]))}],$=y({history:g(),routes:C}),I=x(M);I.use(v()),I.use($),I.mount("#app");
